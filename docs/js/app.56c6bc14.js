(()=>{"use strict";var e={821:(e,t,l)=>{var i=l(963),a=l(252);const s=(0,a._)("h1",{class:"text-center text-bold my-3"}," NHTSA Safety Ratings Database ",-1),n={class:"flex justify-content-center flex-row flex-wrap"};function r(e,t,l,i,r,o){const c=(0,a.up)("YearSelect"),d=(0,a.up)("MakeSelect"),u=(0,a.up)("ModelSelect"),h=(0,a.up)("DescSelect"),v=(0,a.up)("DisplayVehicle");return(0,a.wg)(),(0,a.iD)("main",null,[s,(0,a._)("div",n,[(0,a.Wm)(c,{modelValue:r.year,"onUpdate:modelValue":t[0]||(t[0]=e=>r.year=e)},null,8,["modelValue"]),(0,a.Wm)(d,{modelValue:r.make,"onUpdate:modelValue":t[1]||(t[1]=e=>r.make=e),year:r.year},null,8,["modelValue","year"]),(0,a.Wm)(u,{modelValue:r.model,"onUpdate:modelValue":t[2]||(t[2]=e=>r.model=e),year:r.year,make:r.make},null,8,["modelValue","year","make"]),(0,a.Wm)(h,{modelValue:r.vehId,"onUpdate:modelValue":t[3]||(t[3]=e=>r.vehId=e),year:r.year,make:r.make,model:r.model},null,8,["modelValue","year","make","model"])]),(0,a.Wm)(v,{vehicle:r.vehicle},null,8,["vehicle"])])}const o={endpoint:"api.nhtsa.gov/SafetyRatings",proxy:"https://api.codetabs.com/v1/proxy/"},c=o;var d=l(669),u=l.n(d);function h(e,t,l,i,s,n){const r=(0,a.up)("Dropdown");return(0,a.wg)(),(0,a.j4)(r,{modelValue:s.selected,"onUpdate:modelValue":t[0]||(t[0]=e=>s.selected=e),value:l.value,options:s.years,"option-label":"value","option-value":"value",placeholder:"Year",class:"year m-1"},null,8,["modelValue","value","options"])}const v={name:"YearSelect",props:{value:{type:String,default:""}},emits:["input"],data(){return{years:[],selected:""}},watch:{selected:function(){this.$emit("input",this.selected.toString())}},mounted(){u().get(`${c.proxy}?quest=${c.endpoint}`).then((e=>{console,this.years=e.data.Results.map((e=>({value:`${e.ModelYear}`})))})).catch((e=>{console.log(e)}))}};var m=l(744);const p=(0,m.Z)(v,[["render",h]]),g=p;function y(e,t,l,i,s,n){const r=(0,a.up)("Dropdown");return(0,a.wg)(),(0,a.j4)(r,{modelValue:s.selected,"onUpdate:modelValue":t[0]||(t[0]=e=>s.selected=e),value:l.value,options:s.makes,"option-label":"text","option-value":"value",placeholder:"Make",class:"make m-1"},null,8,["modelValue","value","options"])}const f={name:"MakeSelect",props:{value:{type:String,default:""},year:{type:String,default:""}},emits:["input"],data(){return{makes:[],selected:""}},watch:{year:function(){""!==this.year?(this.selected="",u().get(`${c.proxy}?quest=${c.endpoint}/modelyear/${this.year}`).then((e=>{this.makes=e.data.Results.map((e=>({value:e.Make.replace(/&/g,"_"),text:e.Make})))})).catch((e=>{console.log(e)}))):this.makes=[]},selected:function(){this.$emit("input",this.selected)}}},k=(0,m.Z)(f,[["render",y]]),S=k;function R(e,t,l,i,s,n){const r=(0,a.up)("Dropdown");return(0,a.wg)(),(0,a.j4)(r,{modelValue:s.selected,"onUpdate:modelValue":t[0]||(t[0]=e=>s.selected=e),value:l.value,options:s.models,"option-label":"text","option-value":"value",placeholder:"Model",class:"model m-1"},null,8,["modelValue","value","options"])}const w={name:"ModelSelect",props:{value:{type:String,default:""},year:{type:String,default:""},make:{type:String,default:""}},emits:["input"],data(){return{models:[],selected:""}},watch:{year:function(){""!==this.year&&""!==this.make?(this.selected="",this.getData()):this.models=[]},make:function(){""!==this.year&&""!==this.make?(this.selected="",this.getData()):this.models=[]},selected:function(){this.$emit("input",this.selected)}},methods:{getData:function(){u().get(`${c.proxy}?quest=${c.endpoint}/modelyear/${this.year}/make/${this.make}`).then((e=>{this.models=e.data.Results.map((e=>({value:e.Model.replace(/&/g,"_"),text:e.Model})))})).catch((e=>{console.log(e)}))}}},P=(0,m.Z)(w,[["render",R]]),D=P;function b(e,t,l,i,s,n){const r=(0,a.up)("Dropdown");return(0,a.wg)(),(0,a.j4)(r,{modelValue:s.selected,"onUpdate:modelValue":t[0]||(t[0]=e=>s.selected=e),value:l.value,options:s.descriptions,"option-label":"text","option-value":"value",placeholder:"Vehicle Description",class:"desc m-1"},null,8,["modelValue","value","options"])}const C={name:"DescSelect",props:{value:{type:String,default:""},year:{type:String,default:""},make:{type:String,default:""},model:{type:String,default:""}},emits:["input"],data(){return{descriptions:[],selected:""}},watch:{year:function(){""!==this.year&&""!==this.make&&""!==this.model?this.getData():this.descriptions=[]},make:function(){""!==this.year&&""!==this.make&&""!==this.model?this.getData():this.descriptions=[]},model:function(){""!==this.year&&""!==this.make&&""!==this.model?this.getData():this.descriptions=[]},selected:function(){this.$emit("input",this.selected.toString())}},methods:{getData:function(){this.selected="",u().get(`${c.proxy}?quest=${c.endpoint}/modelyear/${this.year}/make/${this.make}/model/${this.model}`).then((e=>{this.descriptions=e.data.Results.map((e=>({value:e.VehicleId,text:e.VehicleDescription})))})).catch((e=>{console.log(e)}))}}},_=(0,m.Z)(C,[["render",b]]),V=_;var x=l(577);const $={key:0,id:"vehicle"},I={class:"grid justify-content-center mt-3"},O={class:"col-12 mb-3"},W={class:"text-center font-weight-bold mb-3"},j=["v-if","src"],U={key:0,class:"col-10 md:col-4"},M=(0,a.Uk)("Overall: "),q=(0,a.Uk)("Rollover: "),Z={key:1,class:"col-10 md:col-4"},F={class:"col-10 md:col-4"},z={key:2,id:"crash",class:"col-12"},T={class:"grid justify-content-center mt-md-2"},Y={key:0,class:"col-10 md:col-4"},A=["src"],N={class:"ratings"},H=(0,a.Uk)("Front Crash: "),E=(0,a.Uk)("Driver Side: "),K=(0,a.Uk)("Passenger Side: "),B={key:1,class:"col-10 md:col-4"},G=["src"],J={class:"ratings"},L=(0,a.Uk)("Side Crash: "),Q=(0,a.Uk)("Driver Side: "),X=(0,a.Uk)("Passenger Side: "),ee={key:2,class:"col-10 md:col-4"},te=["src"],le={class:"ratings"},ie=(0,a.Uk)(" Side Pole Crash: ");function ae(e,t,l,i,s,n){const r=(0,a.up)("Stars"),o=(0,a.up)("Card");return l.vehicle?((0,a.wg)(),(0,a.iD)("div",$,[(0,a._)("div",I,[(0,a._)("div",O,[(0,a._)("h2",W,(0,x.zw)(l.vehicle.description),1),(0,a._)("img",{id:"vehpic","v-if":l.vehicle.picture,src:l.vehicle.picture,alt:" ",class:"mx-auto block main-img"},null,8,j)]),n.main?((0,a.wg)(),(0,a.iD)("div",U,[(0,a.Wm)(o,{class:"sm-card"},{content:(0,a.w5)((()=>[(0,a._)("div",null,[M,(0,a.Wm)(r,{stars:l.vehicle.overallRating},null,8,["stars"])]),(0,a._)("div",null,[q,(0,a.Wm)(r,{stars:l.vehicle.rolloverRating},null,8,["stars"])]),(0,a._)("div",null,"Rollover Possibility: "+(0,x.zw)(n.rolloverPercent),1)])),_:1})])):(0,a.kq)("",!0),l.vehicle.nhtsaVars.length?((0,a.wg)(),(0,a.iD)("div",Z,[(0,a.Wm)(o,null,{content:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.vehicle.nhtsaVars,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t},(0,x.zw)(e),1)))),128))])),_:1})])):(0,a.kq)("",!0),(0,a._)("div",F,[(0,a.Wm)(o,{class:"sm-card"},{content:(0,a.w5)((()=>[(0,a._)("div",null,"Complaints: "+(0,x.zw)(l.vehicle.complaints),1),(0,a._)("div",null,"Recalls: "+(0,x.zw)(l.vehicle.recalls),1),(0,a._)("div",null,"Investigations: "+(0,x.zw)(l.vehicle.investigations),1)])),_:1})]),l.vehicle.crashRatings?((0,a.wg)(),(0,a.iD)("div",z,[(0,a._)("div",T,[n.front?((0,a.wg)(),(0,a.iD)("div",Y,[(0,a.Wm)(o,null,{content:(0,a.w5)((()=>[(0,a._)("img",{src:l.vehicle.frontCrashPic,alt:" ",class:"block mx-auto mb-2"},null,8,A),(0,a._)("div",N,[(0,a._)("div",null,[H,(0,a.Wm)(r,{stars:l.vehicle.frontCrashRating},null,8,["stars"])]),(0,a._)("div",null,[E,(0,a.Wm)(r,{stars:l.vehicle.driverSideRating},null,8,["stars"])]),(0,a._)("div",null,[K,(0,a.Wm)(r,{stars:l.vehicle.passengerSideRating},null,8,["stars"])])])])),_:1})])):(0,a.kq)("",!0),n.side?((0,a.wg)(),(0,a.iD)("div",B,[(0,a.Wm)(o,null,{content:(0,a.w5)((()=>[(0,a._)("img",{src:l.vehicle.sideCrashPicture,alt:" ",class:"block mx-auto mb-2"},null,8,G),(0,a._)("div",J,[(0,a._)("div",null,[L,(0,a.Wm)(r,{stars:l.vehicle.sideCrashRating},null,8,["stars"])]),(0,a._)("div",null,[Q,(0,a.Wm)(r,{stars:l.vehicle.sideDriverSideRating},null,8,["stars"])]),(0,a._)("div",null,[X,(0,a.Wm)(r,{stars:l.vehicle.sidePassengerSideRating},null,8,["stars"])])])])),_:1})])):(0,a.kq)("",!0),n.pole?((0,a.wg)(),(0,a.iD)("div",ee,[(0,a.Wm)(o,null,{content:(0,a.w5)((()=>[(0,a._)("img",{src:l.vehicle.sidePolePicture,alt:" ",class:"block mx-auto mb-2"},null,8,te),(0,a._)("div",le,[ie,(0,a.Wm)(r,{stars:l.vehicle.sidePoleCrashRating},null,8,["stars"])])])),_:1})])):(0,a.kq)("",!0)])])):(0,a.kq)("",!0)])])):(0,a.kq)("",!0)}function se(e,t,l,i,s,n){const r=(0,a.up)("Rating");return(0,a.wg)(),(0,a.j4)(r,{"model-value":l.stars,readonly:!0,cancel:!1},null,8,["model-value"])}const ne={name:"Stars",props:{stars:{type:Number,default:0}}},re=(0,m.Z)(ne,[["render",se]]),oe=re,ce={name:"DisplayVehicle",components:{Stars:oe},props:{vehicle:{type:Object,default:()=>({})}},computed:{main(){return this.vehicle.overallRating||this.vehicle.rolloverRating},front(){return this.vehicle.frontCrashPic||this.vehicle.frontCrashRating||this.vehicle.driverSideRating||this.vehicle.passengerSideRating},side(){return this.vehicle.sideCrashPic||this.vehicle.sideCrashRating||this.vehicle.sideDriverSideRating||this.vehicle.sidePassengerSideRating},pole(){return this.vehicle.sidePolePicture||this.vehicle.sidePoleCrashRating},rolloverPercent(){const e=100*this.vehicle.rolloverPossibility;return`${e.toFixed(2)}%`}}},de=(0,m.Z)(ce,[["render",ae]]),ue=de,he={name:"App",components:{YearSelect:g,MakeSelect:S,ModelSelect:D,DescSelect:V,DisplayVehicle:ue},data(){return{year:"",make:"",model:"",vehId:"",vehicle:null}},watch:{year:function(){this.make="",this.model="",this.vehId=""},make:function(){this.model="",this.vehId=""},model:function(){this.vehId=""},vehId:function(){this.getData()}},methods:{getData:function(){""!==this.vehId?u().get(`${c.proxy}?quest=${c.endpoint}/VehicleId/${this.vehId}`).then((e=>{const t=e.data.Results[0];this.vehicle={description:t.VehicleDescription,picture:t.hasOwnProperty("VehiclePicture")?t.VehiclePicture:"",overallRating:parseInt(t.OverallRating,10),rolloverRating:parseInt(t.RolloverRating,10),rolloverPossibility:t.RolloverPossibility,nhtsaVars:Object.keys(t).filter((e=>0===e.indexOf("NHTSA"))).map((e=>e.match(/[A-Z][a-z]+/g).join(" ")+": "+t[e])),complaints:t.ComplaintsCount,recalls:t.RecallsCount,investigations:t.InvestigationCount,crashRatings:"Not Rated"!=t.FrontCrashDriversideRating},this.vehicle.crashRatings&&(this.vehicle={frontCrashPic:t.hasOwnProperty("FrontCrashPicture")?t.FrontCrashPicture:"",frontCrashRating:parseInt(t.OverallFrontCrashRating,10),driverSideRating:parseInt(t.FrontCrashDriversideRating,10),passengerSideRating:parseInt(t.FrontCrashPassengersideRating,10),sideCrashPicture:t.hasOwnProperty("SideCrashPicture")?t.SideCrashPicture:"",sideCrashRating:parseInt(t.OverallSideCrashRating,10),sideDriverSideRating:parseInt(t.SideCrashDriversideRating,10),sidePassengerSideRating:parseInt(t.SideCrashPassengersideRating,10),sidePolePicture:t.hasOwnProperty("SidePolePicture")?t.SidePolePicture:"",sidePoleCrashRating:parseInt(t.SidePoleCrashRating,10),...this.vehicle})})).catch((e=>{console.log(e)})):this.vehicle=null}}},ve=(0,m.Z)(he,[["render",r]]),me=ve;var pe=l(475),ge=l(858),ye=l(382),fe=l(967);const ke=(0,i.ri)(me);ke.use(pe.Z),ke.component("Dropdown",ge.Z),ke.component("Card",ye.Z),ke.component("Rating",fe.Z),ke.mount("#app")}},t={};function l(i){var a=t[i];if(void 0!==a)return a.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,l),s.exports}l.m=e,(()=>{var e=[];l.O=(t,i,a,s)=>{if(!i){var n=1/0;for(d=0;d<e.length;d++){for(var[i,a,s]=e[d],r=!0,o=0;o<i.length;o++)(!1&s||n>=s)&&Object.keys(l.O).every((e=>l.O[e](i[o])))?i.splice(o--,1):(r=!1,s<n&&(n=s));if(r){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[i,a,s]}})(),(()=>{l.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return l.d(t,{a:t}),t}})(),(()=>{l.d=(e,t)=>{for(var i in t)l.o(t,i)&&!l.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}})(),(()=>{l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={143:0};l.O.j=t=>0===e[t];var t=(t,i)=>{var a,s,[n,r,o]=i,c=0;if(n.some((t=>0!==e[t]))){for(a in r)l.o(r,a)&&(l.m[a]=r[a]);if(o)var d=o(l)}for(t&&t(i);c<n.length;c++)s=n[c],l.o(e,s)&&e[s]&&e[s][0](),e[n[c]]=0;return l.O(d)},i=globalThis["webpackChunkvue_nhtsa"]=globalThis["webpackChunkvue_nhtsa"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var i=l.O(void 0,[998],(()=>l(821)));i=l.O(i)})();
//# sourceMappingURL=app.56c6bc14.js.map