var N=Object.defineProperty;var b=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var D=(l,a,e)=>a in l?N(l,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):l[a]=e,w=(l,a)=>{for(var e in a||(a={}))F.call(a,e)&&D(l,e,a[e]);if(b)for(var e of b(a))M.call(a,e)&&D(l,e,a[e]);return l};import{r as p,w as h,o as U,a as k,b as x,c as m,d as V,e as C,f as g,g as i,t as S,u as v,h as d,i as P,j as R,F as j,k as A,l as f,m as q,P as L,s as B,n as T,p as H}from"./vendor.4a4cd50e.js";const Y=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function e(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(t){if(t.ep)return;t.ep=!0;const s=e(t);fetch(t.href,s)}};Y();const y={endpoint:"api.nhtsa.gov/SafetyRatings",proxy:"https://api.codetabs.com/v1/proxy/"};const E={props:{value:{type:String,default:""}},emits:["input"],setup(l,{emit:a}){const e=p([]),o=p("");return h(o,()=>{a("input",o.value.toString())}),U(()=>{k.get(`${y.proxy}?quest=${y.endpoint}`).then(t=>{e.value=t.data.Results.map(s=>({value:`${s.ModelYear}`}))}).catch(t=>{console.log(t)})}),(t,s)=>{const r=x("Dropdown");return m(),V(r,{modelValue:o.value,"onUpdate:modelValue":s[0]||(s[0]=u=>o.value=u),value:l.value,options:e.value,"option-label":"value","option-value":"value",placeholder:"Year",class:"year m-1"},null,8,["modelValue","value","options"])}}};const z={props:{value:{type:String,default:""},year:{type:String,default:""}},emits:["input"],setup(l,{emit:a}){const e=l,o=p([]),t=p("");return h(()=>e.year,()=>{if(e.year===""){o.value=[];return}t.value="",k.get(`${y.proxy}?quest=${y.endpoint}/modelyear/${e.year}`).then(s=>{o.value=s.data.Results.map(r=>({value:r.Make.replace(/&/g,"_"),text:r.Make}))}).catch(s=>{console.log(s)})}),h(t,()=>{a("input",t.value)}),(s,r)=>{const u=x("Dropdown");return m(),V(u,{modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=n=>t.value=n),value:l.value,options:o.value,"option-label":"text","option-value":"value",placeholder:"Make",class:"make m-1"},null,8,["modelValue","value","options"])}}};const K={props:{value:{type:String,default:""},year:{type:String,default:""},make:{type:String,default:""}},emits:["input"],setup(l,{emit:a}){const e=l,o=p([]),t=p("");h(()=>e.year,()=>{if(e.year===""||e.make===""){o.value=[];return}t.value="",s()}),h(()=>e.make,()=>{if(e.year===""||e.make===""){o.value=[];return}t.value="",s()}),h(t,()=>{a("input",t.value)});function s(){k.get(`${y.proxy}?quest=${y.endpoint}/modelyear/${e.year}/make/${e.make}`).then(r=>{o.value=r.data.Results.map(u=>({value:u.Model.replace(/&/g,"_"),text:u.Model}))}).catch(r=>{console.log(r)})}return(r,u)=>{const n=x("Dropdown");return m(),V(n,{modelValue:t.value,"onUpdate:modelValue":u[0]||(u[0]=c=>t.value=c),value:l.value,options:o.value,"option-label":"text","option-value":"value",placeholder:"Model",class:"model m-1"},null,8,["modelValue","value","options"])}}};const Z={props:{value:{type:String,default:""},year:{type:String,default:""},make:{type:String,default:""},model:{type:String,default:""}},emits:["input"],setup(l,{emit:a}){const e=l,o=p([]),t=p("");h(()=>e.year,()=>{if(e.year===""||e.make===""||e.model===""){o.value=[];return}s()}),h(()=>e.make,()=>{if(e.year===""||e.make===""||e.model===""){o.value=[];return}s()}),h(()=>e.model,()=>{if(e.year===""||e.make===""||e.model===""){o.value=[];return}s()}),h(t,()=>{a("input",t.value)});function s(){t.value="",k.get(`${y.proxy}?quest=${y.endpoint}/modelyear/${e.year}/make/${e.make}/model/${e.model}`).then(r=>{o.value=r.data.Results.map(u=>({value:u.VehicleId,text:u.VehicleDescription}))}).catch(r=>{console.log(r)})}return(r,u)=>{const n=x("Dropdown");return m(),V(n,{modelValue:t.value,"onUpdate:modelValue":u[0]||(u[0]=c=>t.value=c),value:l.value,options:o.value,"option-label":"text","option-value":"value",placeholder:"Vehicle Description",class:"desc m-1"},null,8,["modelValue","value","options"])}}};const _={props:{stars:{type:Number,default:0}},setup(l){return(a,e)=>{const o=x("Rating");return m(),V(o,{"model-value":l.stars,readonly:!0,cancel:!1},null,8,["model-value"])}}};const G={key:0,id:"vehicle"},J={class:"grid justify-content-center mt-3"},Q={class:"col-12 mb-3"},W={class:"text-center font-weight-bold mb-3"},X=["v-if","src"],ee={key:0,class:"col-10 md:col-4"},te=f("Overall: "),le=f("Rollover: "),ae={key:1,class:"col-10 md:col-4"},ne={class:"col-10 md:col-4"},se={key:2,id:"crash",class:"col-12"},oe={class:"grid justify-content-center mt-md-2"},ie={key:0,class:"col-10 md:col-4"},re=["src"],ce={class:"ratings"},ue=f("Front Crash: "),de=f("Driver Side: "),ve=f("Passenger Side: "),me={key:1,class:"col-10 md:col-4"},he=["src"],pe={class:"ratings"},ge=f("Side Crash: "),ye=f("Driver Side: "),_e=f("Passenger Side: "),fe={key:2,class:"col-10 md:col-4"},Re=["src"],Se={class:"ratings"},Pe=f(" Side Pole Crash: "),xe={props:{vehicle:{type:Object,default:()=>({})}},setup(l){const a=l,e=C(()=>a.vehicle.overallRating||a.vehicle.rolloverRating),o=C(()=>a.vehicle.frontCrashPic||a.vehicle.frontCrashRating||a.vehicle.driverSideRating||a.vehicle.passengerSideRating),t=C(()=>a.vehicle.sideCrashPic||a.vehicle.sideCrashRating||a.vehicle.sideDriverSideRating||a.vehicle.sidePassengerSideRating),s=C(()=>a.vehicle.sidePolePicture||a.vehicle.sidePoleCrashRating),r=C(()=>`${(a.vehicle.rolloverPossibility*100).toFixed(2)}%`);return(u,n)=>{const c=x("Card");return l.vehicle?(m(),g("div",G,[i("div",J,[i("div",Q,[i("h2",W,S(l.vehicle.description),1),i("img",{id:"vehpic","v-if":l.vehicle.picture,src:l.vehicle.picture,alt:" ",class:"mx-auto block main-img"},null,8,X)]),v(e)?(m(),g("div",ee,[d(c,{class:"sm-card"},{content:P(()=>[i("div",null,[te,d(v(_),{stars:l.vehicle.overallRating},null,8,["stars"])]),i("div",null,[le,d(v(_),{stars:l.vehicle.rolloverRating},null,8,["stars"])]),i("div",null,"Rollover Possibility: "+S(v(r)),1)]),_:1})])):R("",!0),l.vehicle.nhtsaVars.length?(m(),g("div",ae,[d(c,null,{content:P(()=>[(m(!0),g(j,null,A(l.vehicle.nhtsaVars,(I,O)=>(m(),g("div",{key:O},S(I),1))),128))]),_:1})])):R("",!0),i("div",ne,[d(c,{class:"sm-card"},{content:P(()=>[i("div",null,"Complaints: "+S(l.vehicle.complaints),1),i("div",null,"Recalls: "+S(l.vehicle.recalls),1),i("div",null,"Investigations: "+S(l.vehicle.investigations),1)]),_:1})]),l.vehicle.crashRatings?(m(),g("div",se,[i("div",oe,[v(o)?(m(),g("div",ie,[d(c,null,{content:P(()=>[i("img",{src:l.vehicle.frontCrashPic,alt:" ",class:"block mx-auto mb-2"},null,8,re),i("div",ce,[i("div",null,[ue,d(v(_),{stars:l.vehicle.frontCrashRating},null,8,["stars"])]),i("div",null,[de,d(v(_),{stars:l.vehicle.driverSideRating},null,8,["stars"])]),i("div",null,[ve,d(v(_),{stars:l.vehicle.passengerSideRating},null,8,["stars"])])])]),_:1})])):R("",!0),v(t)?(m(),g("div",me,[d(c,null,{content:P(()=>[i("img",{src:l.vehicle.sideCrashPicture,alt:" ",class:"block mx-auto mb-2"},null,8,he),i("div",pe,[i("div",null,[ge,d(v(_),{stars:l.vehicle.sideCrashRating},null,8,["stars"])]),i("div",null,[ye,d(v(_),{stars:l.vehicle.sideDriverSideRating},null,8,["stars"])]),i("div",null,[_e,d(v(_),{stars:l.vehicle.sidePassengerSideRating},null,8,["stars"])])])]),_:1})])):R("",!0),v(s)?(m(),g("div",fe,[d(c,null,{content:P(()=>[i("img",{src:l.vehicle.sidePolePicture,alt:" ",class:"block mx-auto mb-2"},null,8,Re),i("div",Se,[Pe,d(v(_),{stars:l.vehicle.sidePoleCrashRating},null,8,["stars"])])]),_:1})])):R("",!0)])])):R("",!0)])])):R("",!0)}}};const Ce=i("h1",{class:"text-center text-bold my-3"}," NHTSA Safety Ratings Database ",-1),ke={class:"flex justify-content-center flex-row flex-wrap"},Ve={setup(l){const a=p(""),e=p(""),o=p(""),t=p(""),s=p(null);h(a,()=>{e.value="",o.value="",t.value=""}),h(e,()=>{o.value="",t.value=""}),h(o,()=>{t.value=""}),h(t,()=>{r()});function r(){if(t.value===""){s.value=null;return}k.get(`${y.proxy}?quest=${y.endpoint}/VehicleId/${t.value}`).then(u=>{const n=u.data.Results[0];s.value={description:n.VehicleDescription,picture:n.hasOwnProperty("VehiclePicture")?n.VehiclePicture:"",overallRating:parseInt(n.OverallRating,10),rolloverRating:parseInt(n.RolloverRating,10),rolloverPossibility:n.RolloverPossibility,nhtsaVars:Object.keys(n).filter(c=>c.indexOf("NHTSA")===0).map(c=>c.match(/[A-Z][a-z]+/g).join(" ")+": "+n[c]),complaints:n.ComplaintsCount,recalls:n.RecallsCount,investigations:n.InvestigationCount,crashRatings:n.FrontCrashDriversideRating!="Not Rated"},s.value.crashRatings&&(s.value=w({frontCrashPic:n.hasOwnProperty("FrontCrashPicture")?n.FrontCrashPicture:"",frontCrashRating:parseInt(n.OverallFrontCrashRating,10),driverSideRating:parseInt(n.FrontCrashDriversideRating,10),passengerSideRating:parseInt(n.FrontCrashPassengersideRating,10),sideCrashPicture:n.hasOwnProperty("SideCrashPicture")?n.SideCrashPicture:"",sideCrashRating:parseInt(n.OverallSideCrashRating,10),sideDriverSideRating:parseInt(n.SideCrashDriversideRating,10),sidePassengerSideRating:parseInt(n.SideCrashPassengersideRating,10),sidePolePicture:n.hasOwnProperty("SidePolePicture")?n.SidePolePicture:"",sidePoleCrashRating:parseInt(n.SidePoleCrashRating,10)},s.value))}).catch(u=>{console.log(u)})}return(u,n)=>(m(),g("main",null,[Ce,i("div",ke,[d(v(E),{modelValue:a.value,"onUpdate:modelValue":n[0]||(n[0]=c=>a.value=c)},null,8,["modelValue"]),d(v(z),{modelValue:e.value,"onUpdate:modelValue":n[1]||(n[1]=c=>e.value=c),year:a.value},null,8,["modelValue","year"]),d(v(K),{modelValue:o.value,"onUpdate:modelValue":n[2]||(n[2]=c=>o.value=c),year:a.value,make:e.value},null,8,["modelValue","year","make"]),d(v(Z),{modelValue:t.value,"onUpdate:modelValue":n[3]||(n[3]=c=>t.value=c),year:a.value,make:e.value,model:o.value},null,8,["modelValue","year","make","model"])]),d(v(xe),{vehicle:s.value},null,8,["vehicle"])]))}};const $=q(Ve);$.use(L);$.component("Dropdown",B);$.component("Card",T);$.component("Rating",H);$.mount("#app");
