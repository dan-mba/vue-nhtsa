var O=Object.defineProperty;var $=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var b=(l,a,e)=>a in l?O(l,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):l[a]=e,D=(l,a)=>{for(var e in a||(a={}))j.call(a,e)&&b(l,e,a[e]);if($)for(var e of $(a))N.call(a,e)&&b(l,e,a[e]);return l};import{r as p,w as h,o as F,a as x,b as m,c as k,d as C,e as g,f as r,t as S,u as v,g as d,h as P,i as R,F as M,j as U,k as f,l as A,P as q,s as L,m as B,n as T}from"./vendor.ee7591f1.js";const H=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function e(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(t){if(t.ep)return;t.ep=!0;const s=e(t);fetch(t.href,s)}};H();const y={endpoint:"api.nhtsa.gov/SafetyRatings",proxy:"https://api.codetabs.com/v1/proxy/"};const Y={props:{value:{type:String,default:""}},emits:["input"],setup(l,{emit:a}){const e=p([]),o=p("");return h(o,()=>{a("input",o.value.toString())}),F(()=>{fetch(`${y.proxy}?quest=${y.endpoint}`).then(t=>t.json()).then(t=>{e.value=t.Results.map(s=>({value:`${s.ModelYear}`}))}).catch(t=>{console.log(t)})}),(t,s)=>{const i=x("Dropdown");return m(),k(i,{modelValue:o.value,"onUpdate:modelValue":s[0]||(s[0]=c=>o.value=c),value:l.value,options:e.value,"option-label":"value","option-value":"value",placeholder:"Year",class:"year m-1"},null,8,["modelValue","value","options"])}}};const E={props:{value:{type:String,default:""},year:{type:String,default:""}},emits:["input"],setup(l,{emit:a}){const e=l,o=p([]),t=p("");return h(()=>e.year,()=>{if(e.year===""){o.value=[];return}t.value="",fetch(`${y.proxy}?quest=${y.endpoint}/modelyear/${e.year}`).then(s=>s.json()).then(s=>{o.value=s.Results.map(i=>({value:i.Make.replace(/&/g,"_"),text:i.Make}))}).catch(s=>{console.log(s)})}),h(t,()=>{a("input",t.value)}),(s,i)=>{const c=x("Dropdown");return m(),k(c,{modelValue:t.value,"onUpdate:modelValue":i[0]||(i[0]=n=>t.value=n),value:l.value,options:o.value,"option-label":"text","option-value":"value",placeholder:"Make",class:"make m-1"},null,8,["modelValue","value","options"])}}};const z={props:{value:{type:String,default:""},year:{type:String,default:""},make:{type:String,default:""}},emits:["input"],setup(l,{emit:a}){const e=l,o=p([]),t=p("");h(()=>e.year,()=>{if(e.year===""||e.make===""){o.value=[];return}t.value="",s()}),h(()=>e.make,()=>{if(e.year===""||e.make===""){o.value=[];return}t.value="",s()}),h(t,()=>{a("input",t.value)});function s(){fetch(`${y.proxy}?quest=${y.endpoint}/modelyear/${e.year}/make/${e.make}`).then(i=>i.json()).then(i=>{o.value=i.Results.map(c=>({value:c.Model.replace(/&/g,"_"),text:c.Model}))}).catch(i=>{console.log(i)})}return(i,c)=>{const n=x("Dropdown");return m(),k(n,{modelValue:t.value,"onUpdate:modelValue":c[0]||(c[0]=u=>t.value=u),value:l.value,options:o.value,"option-label":"text","option-value":"value",placeholder:"Model",class:"model m-1"},null,8,["modelValue","value","options"])}}};const K={props:{value:{type:String,default:""},year:{type:String,default:""},make:{type:String,default:""},model:{type:String,default:""}},emits:["input"],setup(l,{emit:a}){const e=l,o=p([]),t=p("");h(()=>e.year,()=>{if(e.year===""||e.make===""||e.model===""){o.value=[];return}s()}),h(()=>e.make,()=>{if(e.year===""||e.make===""||e.model===""){o.value=[];return}s()}),h(()=>e.model,()=>{if(e.year===""||e.make===""||e.model===""){o.value=[];return}s()}),h(t,()=>{a("input",t.value)});function s(){t.value="",fetch(`${y.proxy}?quest=${y.endpoint}/modelyear/${e.year}/make/${e.make}/model/${e.model}`).then(i=>i.json()).then(i=>{o.value=i.Results.map(c=>({value:c.VehicleId,text:c.VehicleDescription}))}).catch(i=>{console.log(i)})}return(i,c)=>{const n=x("Dropdown");return m(),k(n,{modelValue:t.value,"onUpdate:modelValue":c[0]||(c[0]=u=>t.value=u),value:l.value,options:o.value,"option-label":"text","option-value":"value",placeholder:"Vehicle Description",class:"desc m-1"},null,8,["modelValue","value","options"])}}};const _={props:{stars:{type:Number,default:0}},setup(l){return(a,e)=>{const o=x("Rating");return m(),k(o,{"model-value":l.stars,readonly:!0,cancel:!1},null,8,["model-value"])}}};const Z={key:0,id:"vehicle"},G={class:"grid justify-content-center mt-3"},J={class:"col-12 mb-3"},Q={class:"text-center font-weight-bold mb-3"},W=["v-if","src"],X={key:0,class:"col-10 md:col-4"},ee=f("Overall: "),te=f("Rollover: "),le={key:1,class:"col-10 md:col-4"},ae={class:"col-10 md:col-4"},ne={key:2,id:"crash",class:"col-12"},se={class:"grid justify-content-center mt-md-2"},oe={key:0,class:"col-10 md:col-4"},ie=["src"],re={class:"ratings"},ce=f("Front Crash: "),ue=f("Driver Side: "),de=f("Passenger Side: "),ve={key:1,class:"col-10 md:col-4"},me=["src"],he={class:"ratings"},pe=f("Side Crash: "),ge=f("Driver Side: "),ye=f("Passenger Side: "),_e={key:2,class:"col-10 md:col-4"},fe=["src"],Re={class:"ratings"},Se=f(" Side Pole Crash: "),Pe={props:{vehicle:{type:Object,default:()=>({})}},setup(l){const a=l,e=C(()=>a.vehicle.overallRating||a.vehicle.rolloverRating),o=C(()=>a.vehicle.frontCrashPic||a.vehicle.frontCrashRating||a.vehicle.driverSideRating||a.vehicle.passengerSideRating),t=C(()=>a.vehicle.sideCrashPic||a.vehicle.sideCrashRating||a.vehicle.sideDriverSideRating||a.vehicle.sidePassengerSideRating),s=C(()=>a.vehicle.sidePolePicture||a.vehicle.sidePoleCrashRating),i=C(()=>`${(a.vehicle.rolloverPossibility*100).toFixed(2)}%`);return(c,n)=>{const u=x("Card");return l.vehicle?(m(),g("div",Z,[r("div",G,[r("div",J,[r("h2",Q,S(l.vehicle.description),1),r("img",{id:"vehpic","v-if":l.vehicle.picture,src:l.vehicle.picture,alt:" ",class:"mx-auto block main-img"},null,8,W)]),v(e)?(m(),g("div",X,[d(u,{class:"sm-card"},{content:P(()=>[r("div",null,[ee,d(v(_),{stars:l.vehicle.overallRating},null,8,["stars"])]),r("div",null,[te,d(v(_),{stars:l.vehicle.rolloverRating},null,8,["stars"])]),r("div",null,"Rollover Possibility: "+S(v(i)),1)]),_:1})])):R("",!0),l.vehicle.nhtsaVars.length?(m(),g("div",le,[d(u,null,{content:P(()=>[(m(!0),g(M,null,U(l.vehicle.nhtsaVars,(w,I)=>(m(),g("div",{key:I},S(w),1))),128))]),_:1})])):R("",!0),r("div",ae,[d(u,{class:"sm-card"},{content:P(()=>[r("div",null,"Complaints: "+S(l.vehicle.complaints),1),r("div",null,"Recalls: "+S(l.vehicle.recalls),1),r("div",null,"Investigations: "+S(l.vehicle.investigations),1)]),_:1})]),l.vehicle.crashRatings?(m(),g("div",ne,[r("div",se,[v(o)?(m(),g("div",oe,[d(u,null,{content:P(()=>[r("img",{src:l.vehicle.frontCrashPic,alt:" ",class:"block mx-auto mb-2"},null,8,ie),r("div",re,[r("div",null,[ce,d(v(_),{stars:l.vehicle.frontCrashRating},null,8,["stars"])]),r("div",null,[ue,d(v(_),{stars:l.vehicle.driverSideRating},null,8,["stars"])]),r("div",null,[de,d(v(_),{stars:l.vehicle.passengerSideRating},null,8,["stars"])])])]),_:1})])):R("",!0),v(t)?(m(),g("div",ve,[d(u,null,{content:P(()=>[r("img",{src:l.vehicle.sideCrashPicture,alt:" ",class:"block mx-auto mb-2"},null,8,me),r("div",he,[r("div",null,[pe,d(v(_),{stars:l.vehicle.sideCrashRating},null,8,["stars"])]),r("div",null,[ge,d(v(_),{stars:l.vehicle.sideDriverSideRating},null,8,["stars"])]),r("div",null,[ye,d(v(_),{stars:l.vehicle.sidePassengerSideRating},null,8,["stars"])])])]),_:1})])):R("",!0),v(s)?(m(),g("div",_e,[d(u,null,{content:P(()=>[r("img",{src:l.vehicle.sidePolePicture,alt:" ",class:"block mx-auto mb-2"},null,8,fe),r("div",Re,[Se,d(v(_),{stars:l.vehicle.sidePoleCrashRating},null,8,["stars"])])]),_:1})])):R("",!0)])])):R("",!0)])])):R("",!0)}}};const xe=r("h1",{class:"text-center text-bold my-3"}," NHTSA Safety Ratings Database ",-1),Ce={class:"flex justify-content-center flex-row flex-wrap"},ke={setup(l){const a=p(""),e=p(""),o=p(""),t=p(""),s=p(null);h(a,()=>{e.value="",o.value="",t.value=""}),h(e,()=>{o.value="",t.value=""}),h(o,()=>{t.value=""}),h(t,()=>{i()});function i(){if(t.value===""){s.value=null;return}fetch(`${y.proxy}?quest=${y.endpoint}/VehicleId/${t.value}`).then(c=>c.json()).then(c=>{const n=c.Results[0];s.value={description:n.VehicleDescription,picture:n.hasOwnProperty("VehiclePicture")?n.VehiclePicture:"",overallRating:parseInt(n.OverallRating,10),rolloverRating:parseInt(n.RolloverRating,10),rolloverPossibility:n.RolloverPossibility,nhtsaVars:Object.keys(n).filter(u=>u.indexOf("NHTSA")===0).map(u=>u.match(/[A-Z][a-z]+/g).join(" ")+": "+n[u]),complaints:n.ComplaintsCount,recalls:n.RecallsCount,investigations:n.InvestigationCount,crashRatings:n.FrontCrashDriversideRating!="Not Rated"},s.value.crashRatings&&(s.value=D({frontCrashPic:n.hasOwnProperty("FrontCrashPicture")?n.FrontCrashPicture:"",frontCrashRating:parseInt(n.OverallFrontCrashRating,10),driverSideRating:parseInt(n.FrontCrashDriversideRating,10),passengerSideRating:parseInt(n.FrontCrashPassengersideRating,10),sideCrashPicture:n.hasOwnProperty("SideCrashPicture")?n.SideCrashPicture:"",sideCrashRating:parseInt(n.OverallSideCrashRating,10),sideDriverSideRating:parseInt(n.SideCrashDriversideRating,10),sidePassengerSideRating:parseInt(n.SideCrashPassengersideRating,10),sidePolePicture:n.hasOwnProperty("SidePolePicture")?n.SidePolePicture:"",sidePoleCrashRating:parseInt(n.SidePoleCrashRating,10)},s.value))}).catch(c=>{console.log(c)})}return(c,n)=>(m(),g("main",null,[xe,r("div",Ce,[d(v(Y),{modelValue:a.value,"onUpdate:modelValue":n[0]||(n[0]=u=>a.value=u)},null,8,["modelValue"]),d(v(E),{modelValue:e.value,"onUpdate:modelValue":n[1]||(n[1]=u=>e.value=u),year:a.value},null,8,["modelValue","year"]),d(v(z),{modelValue:o.value,"onUpdate:modelValue":n[2]||(n[2]=u=>o.value=u),year:a.value,make:e.value},null,8,["modelValue","year","make"]),d(v(K),{modelValue:t.value,"onUpdate:modelValue":n[3]||(n[3]=u=>t.value=u),year:a.value,make:e.value,model:o.value},null,8,["modelValue","year","make","model"])]),d(v(Pe),{vehicle:s.value},null,8,["vehicle"])]))}};const V=A(ke);V.use(q);V.component("Dropdown",L);V.component("Card",B);V.component("Rating",T);V.mount("#app");
