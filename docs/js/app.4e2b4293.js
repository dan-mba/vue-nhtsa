(()=>{"use strict";var e={510:(e,t,l)=>{var a=l(963),i=l(252);const s=(0,i.Wm)("h1",{class:"p-text-center p-text-bold p-my-3"}," NHTSA Safety Ratings Database ",-1),n={class:"p-d-flex p-jc-center p-flex-row p-flex-wrap"};function r(e,t,l,a,r,o){const c=(0,i.up)("YearSelect"),d=(0,i.up)("MakeSelect"),h=(0,i.up)("ModelSelect"),u=(0,i.up)("DescSelect"),p=(0,i.up)("DisplayVehicle");return(0,i.wg)(),(0,i.j4)("main",null,[s,(0,i.Wm)("div",n,[(0,i.Wm)(c,{modelValue:r.year,"onUpdate:modelValue":t[1]||(t[1]=e=>r.year=e)},null,8,["modelValue"]),(0,i.Wm)(d,{modelValue:r.make,"onUpdate:modelValue":t[2]||(t[2]=e=>r.make=e),year:r.year},null,8,["modelValue","year"]),(0,i.Wm)(h,{modelValue:r.model,"onUpdate:modelValue":t[3]||(t[3]=e=>r.model=e),year:r.year,make:r.make},null,8,["modelValue","year","make"]),(0,i.Wm)(u,{modelValue:r.vehId,"onUpdate:modelValue":t[4]||(t[4]=e=>r.vehId=e),year:r.year,make:r.make,model:r.model},null,8,["modelValue","year","make","model"])]),(0,i.Wm)(p,{vehicle:r.vehicle},null,8,["vehicle"])])}const o={endpoint:"https://one.nhtsa.gov/webapi/api/SafetyRatings",dataType:"?format=json"},c=o;var d=l(352),h=l.n(d);function u(e,t,l,a,s,n){const r=(0,i.up)("Dropdown");return(0,i.wg)(),(0,i.j4)(r,{modelValue:s.selected,"onUpdate:modelValue":t[1]||(t[1]=e=>s.selected=e),value:l.value,options:s.years,"option-label":"value","option-value":"value",placeholder:"Year",class:"year p-m-1"},null,8,["modelValue","value","options"])}const p={name:"YearSelect",props:{value:{type:String,default:""}},emits:["input"],data(){return{years:[],selected:""}},watch:{selected:function(){this.$emit("input",this.selected.toString())}},mounted(){h().jsonp(c.endpoint+c.dataType).then((e=>{this.years=e.Results.map((e=>({value:`${e.ModelYear}`})))})).catch((e=>{console.log(e)}))}};p.render=u;const m=p;function v(e,t,l,a,s,n){const r=(0,i.up)("Dropdown");return(0,i.wg)(),(0,i.j4)(r,{modelValue:s.selected,"onUpdate:modelValue":t[1]||(t[1]=e=>s.selected=e),value:l.value,options:s.makes,"option-label":"text","option-value":"value",placeholder:"Make",class:"make p-m-1"},null,8,["modelValue","value","options"])}const g={name:"MakeSelect",props:{value:{type:String,default:""},year:{type:String,default:""}},emits:["input"],data(){return{makes:[],selected:""}},watch:{year:function(){""!==this.year?(this.selected="",h().jsonp(c.endpoint+"/modelyear/"+this.year+c.dataType).then((e=>{this.makes=e.Results.map((e=>({value:e.Make.replace(/&/g,"_"),text:e.Make})))})).catch((e=>{console.log(e)}))):this.makes=[]},selected:function(){this.$emit("input",this.selected)}}};g.render=v;const y=g;function f(e,t,l,a,s,n){const r=(0,i.up)("Dropdown");return(0,i.wg)(),(0,i.j4)(r,{modelValue:s.selected,"onUpdate:modelValue":t[1]||(t[1]=e=>s.selected=e),value:l.value,options:s.models,"option-label":"text","option-value":"value",placeholder:"Model",class:"model p-m-1"},null,8,["modelValue","value","options"])}const k={name:"ModelSelect",props:{value:{type:String,default:""},year:{type:String,default:""},make:{type:String,default:""}},emits:["input"],data(){return{models:[],selected:""}},watch:{year:function(){""!==this.year&&""!==this.make?(this.selected="",this.getData()):this.models=[]},make:function(){""!==this.year&&""!==this.make?(this.selected="",this.getData()):this.models=[]},selected:function(){this.$emit("input",this.selected)}},methods:{getData:function(){h().jsonp(c.endpoint+"/modelyear/"+this.year+"/make/"+this.make+c.dataType).then((e=>{this.models=e.Results.map((e=>({value:e.Model.replace(/&/g,"_"),text:e.Model})))})).catch((e=>{console.log(e)}))}}};k.render=f;const S=k;function R(e,t,l,a,s,n){const r=(0,i.up)("Dropdown");return(0,i.wg)(),(0,i.j4)(r,{modelValue:s.selected,"onUpdate:modelValue":t[1]||(t[1]=e=>s.selected=e),value:l.value,options:s.descriptions,"option-label":"text","option-value":"value",placeholder:"Vehicle Description",class:"desc p-m-1"},null,8,["modelValue","value","options"])}const w={name:"DescSelect",props:{value:{type:String,default:""},year:{type:String,default:""},make:{type:String,default:""},model:{type:String,default:""}},emits:["input"],data(){return{descriptions:[],selected:""}},watch:{year:function(){""!==this.year&&""!==this.make&&""!==this.model?this.getData():this.descriptions=[]},make:function(){""!==this.year&&""!==this.make&&""!==this.model?this.getData():this.descriptions=[]},model:function(){""!==this.year&&""!==this.make&&""!==this.model?this.getData():this.descriptions=[]},selected:function(){this.$emit("input",this.selected.toString())}},methods:{getData:function(){this.selected="",h().jsonp(c.endpoint+"/modelyear/"+this.year+"/make/"+this.make+"/model/"+this.model+c.dataType).then((e=>{this.descriptions=e.Results.map((e=>({value:e.VehicleId,text:e.VehicleDescription})))})).catch((e=>{console.log(e)}))}}};w.render=R;const P=w;var W=l(577);const b={key:0,id:"vehicle"},C={class:"p-grid p-jc-center p-mt-3"},V={class:"p-col-12 p-mb-3"},j={class:"p-text-center p-font-weight-bold p-mb-3"},D={key:0,class:"p-col-10 p-md-4"},x=(0,i.Uk)("Overall: "),O=(0,i.Uk)("Rollover: "),I={key:1,class:"p-col-10 p-md-4"},U={class:"p-col-10 p-md-4"},M={key:2,id:"crash",class:"p-col-12"},T={class:"p-grid p-jc-center p-mt-md-2"},_={key:0,class:"p-col-10 p-md-4"},F={class:"ratings"},q=(0,i.Uk)("Front Crash: "),z=(0,i.Uk)("Driver Side: "),Y=(0,i.Uk)("Passenger Side: "),$={key:1,class:"p-col-10 p-md-4"},Z={class:"ratings"},A=(0,i.Uk)("Side Crash: "),N=(0,i.Uk)("Driver Side: "),H=(0,i.Uk)("Passenger Side: "),E={key:2,class:"p-col-10 p-md-4"},K={class:"ratings"},B=(0,i.Uk)(" Side Pole Crash: ");function G(e,t,l,a,s,n){const r=(0,i.up)("Stars"),o=(0,i.up)("Card");return l.vehicle?((0,i.wg)(),(0,i.j4)("div",b,[(0,i.Wm)("div",C,[(0,i.Wm)("div",V,[(0,i.Wm)("h2",j,(0,W.zw)(l.vehicle.description),1),(0,i.Wm)("img",{id:"vehpic","v-if":l.vehicle.picture,src:l.vehicle.picture,alt:" ",class:"p-mx-auto p-d-block main-img"},null,8,["v-if","src"])]),n.main?((0,i.wg)(),(0,i.j4)("div",D,[(0,i.Wm)(o,{class:"sm-card"},{content:(0,i.w5)((()=>[(0,i.Wm)("div",null,[x,(0,i.Wm)(r,{stars:l.vehicle.overallRating},null,8,["stars"])]),(0,i.Wm)("div",null,[O,(0,i.Wm)(r,{stars:l.vehicle.rolloverRating},null,8,["stars"])]),(0,i.Wm)("div",null,"Rollover Possibility: "+(0,W.zw)(n.rolloverPercent),1)])),_:1})])):(0,i.kq)("",!0),l.vehicle.nhtsaVars.length?((0,i.wg)(),(0,i.j4)("div",I,[(0,i.Wm)(o,null,{content:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.j4)(i.HY,null,(0,i.Ko)(l.vehicle.nhtsaVars,((e,t)=>((0,i.wg)(),(0,i.j4)("div",{key:t},(0,W.zw)(e),1)))),128))])),_:1})])):(0,i.kq)("",!0),(0,i.Wm)("div",U,[(0,i.Wm)(o,{class:"sm-card"},{content:(0,i.w5)((()=>[(0,i.Wm)("div",null,"Complaints: "+(0,W.zw)(l.vehicle.complaints),1),(0,i.Wm)("div",null,"Recalls: "+(0,W.zw)(l.vehicle.recalls),1),(0,i.Wm)("div",null,"Investigations: "+(0,W.zw)(l.vehicle.investigations),1)])),_:1})]),l.vehicle.crashRatings?((0,i.wg)(),(0,i.j4)("div",M,[(0,i.Wm)("div",T,[n.front?((0,i.wg)(),(0,i.j4)("div",_,[(0,i.Wm)(o,null,{content:(0,i.w5)((()=>[(0,i.Wm)("img",{src:l.vehicle.frontCrashPic,alt:" ",class:"p-d-block p-mx-auto p-mb-2"},null,8,["src"]),(0,i.Wm)("div",F,[(0,i.Wm)("div",null,[q,(0,i.Wm)(r,{stars:l.vehicle.frontCrashRating},null,8,["stars"])]),(0,i.Wm)("div",null,[z,(0,i.Wm)(r,{stars:l.vehicle.driverSideRating},null,8,["stars"])]),(0,i.Wm)("div",null,[Y,(0,i.Wm)(r,{stars:l.vehicle.passengerSideRating},null,8,["stars"])])])])),_:1})])):(0,i.kq)("",!0),n.side?((0,i.wg)(),(0,i.j4)("div",$,[(0,i.Wm)(o,null,{content:(0,i.w5)((()=>[(0,i.Wm)("img",{src:l.vehicle.sideCrashPicture,alt:" ",class:"p-d-block p-mx-auto p-mb-2"},null,8,["src"]),(0,i.Wm)("div",Z,[(0,i.Wm)("div",null,[A,(0,i.Wm)(r,{stars:l.vehicle.sideCrashRating},null,8,["stars"])]),(0,i.Wm)("div",null,[N,(0,i.Wm)(r,{stars:l.vehicle.sideDriverSideRating},null,8,["stars"])]),(0,i.Wm)("div",null,[H,(0,i.Wm)(r,{stars:l.vehicle.sidePassengerSideRating},null,8,["stars"])])])])),_:1})])):(0,i.kq)("",!0),n.pole?((0,i.wg)(),(0,i.j4)("div",E,[(0,i.Wm)(o,null,{content:(0,i.w5)((()=>[(0,i.Wm)("img",{src:l.vehicle.sidePolePicture,alt:" ",class:"p-d-block p-mx-auto p-mb-2"},null,8,["src"]),(0,i.Wm)("div",K,[B,(0,i.Wm)(r,{stars:l.vehicle.sidePoleCrashRating},null,8,["stars"])])])),_:1})])):(0,i.kq)("",!0)])])):(0,i.kq)("",!0)])])):(0,i.kq)("",!0)}function J(e,t,l,a,s,n){const r=(0,i.up)("Rating");return(0,i.wg)(),(0,i.j4)(r,{"model-value":l.stars,readonly:!0,cancel:!1},null,8,["model-value"])}const L={name:"Stars",props:{stars:{type:Number,default:0}}};L.render=J;const Q=L,X={name:"DisplayVehicle",components:{Stars:Q},props:{vehicle:{type:Object,default:()=>({})}},computed:{main(){return this.vehicle.overallRating||this.vehicle.rolloverRating},front(){return this.vehicle.frontCrashPic||this.vehicle.frontCrashRating||this.vehicle.driverSideRating||this.vehicle.passengerSideRating},side(){return this.vehicle.sideCrashPic||this.vehicle.sideCrashRating||this.vehicle.sideDriverSideRating||this.vehicle.sidePassengerSideRating},pole(){return this.vehicle.sidePolePicture||this.vehicle.sidePoleCrashRating},rolloverPercent(){const e=100*this.vehicle.rolloverPossibility;return`${e.toFixed(2)}%`}}};X.render=G;const ee=X,te={name:"App",components:{YearSelect:m,MakeSelect:y,ModelSelect:S,DescSelect:P,DisplayVehicle:ee},data(){return{year:"",make:"",model:"",vehId:"",vehicle:null}},watch:{year:function(){this.make="",this.model="",this.vehId=""},make:function(){this.model="",this.vehId=""},model:function(){this.vehId=""},vehId:function(){this.getData()}},methods:{getData:function(){""!==this.vehId?h().jsonp(c.endpoint+"/vehicleid/"+this.vehId+c.dataType).then((e=>{const t=e.Results[0];this.vehicle={description:t.VehicleDescription,picture:t.hasOwnProperty("VehiclePicture")?t.VehiclePicture:"",overallRating:parseInt(t.OverallRating,10),rolloverRating:parseInt(t.RolloverRating,10),rolloverPossibility:t.RolloverPossibility,nhtsaVars:Object.keys(t).filter((e=>0===e.indexOf("NHTSA"))).map((e=>e.match(/[A-Z][a-z]+/g).join(" ")+": "+t[e])),complaints:t.ComplaintsCount,recalls:t.RecallsCount,investigations:t.InvestigationCount,crashRatings:"Not Rated"!=t.FrontCrashDriversideRating},this.vehicle.crashRatings&&(this.vehicle={frontCrashPic:t.hasOwnProperty("FrontCrashPicture")?t.FrontCrashPicture:"",frontCrashRating:parseInt(t.OverallFrontCrashRating,10),driverSideRating:parseInt(t.FrontCrashDriversideRating,10),passengerSideRating:parseInt(t.FrontCrashPassengersideRating,10),sideCrashPicture:t.hasOwnProperty("SideCrashPicture")?t.SideCrashPicture:"",sideCrashRating:parseInt(t.OverallSideCrashRating,10),sideDriverSideRating:parseInt(t.SideCrashDriversideRating,10),sidePassengerSideRating:parseInt(t.SideCrashPassengersideRating,10),sidePolePicture:t.hasOwnProperty("SidePolePicture")?t.SidePolePicture:"",sidePoleCrashRating:parseInt(t.SidePoleCrashRating,10),...this.vehicle})})).catch((e=>{console.log(e)})):this.vehicle=null}}};te.render=r;const le=te;var ae=l(475),ie=l(911),se=l(382),ne=l(967);const re=(0,a.ri)(le);re.use(ae.Z),re.component("Dropdown",ie.Z),re.component("Card",se.Z),re.component("Rating",ne.Z),re.mount("#app")}},t={};function l(a){var i=t[a];if(void 0!==i)return i.exports;var s=t[a]={exports:{}};return e[a](s,s.exports,l),s.exports}l.m=e,(()=>{var e=[];l.O=(t,a,i,s)=>{if(!a){var n=1/0;for(c=0;c<e.length;c++){for(var[a,i,s]=e[c],r=!0,o=0;o<a.length;o++)(!1&s||n>=s)&&Object.keys(l.O).every((e=>l.O[e](a[o])))?a.splice(o--,1):(r=!1,s<n&&(n=s));r&&(e.splice(c--,1),t=i())}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[a,i,s]}})(),(()=>{l.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return l.d(t,{a:t}),t}})(),(()=>{l.d=(e,t)=>{for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}})(),(()=>{l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={143:0};l.O.j=t=>0===e[t];var t=(t,a)=>{var i,s,[n,r,o]=a,c=0;for(i in r)l.o(r,i)&&(l.m[i]=r[i]);if(o)var d=o(l);for(t&&t(a);c<n.length;c++)s=n[c],l.o(e,s)&&e[s]&&e[s][0](),e[n[c]]=0;return l.O(d)},a=globalThis["webpackChunkvue_nhtsa"]=globalThis["webpackChunkvue_nhtsa"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=l.O(void 0,[998],(()=>l(510)));a=l.O(a)})();
//# sourceMappingURL=app.4e2b4293.js.map