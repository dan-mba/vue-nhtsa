(()=>{"use strict";var e={589:(e,t,l)=>{var a=l(963),i=l(812),s=l(252);const n=(0,i.createElementVNode)("h1",{class:"text-center text-bold my-3"}," NHTSA Safety Ratings Database ",-1),r={class:"flex justify-content-center flex-row flex-wrap"};function o(e,t,l,a,o,c){const d=(0,s.up)("YearSelect"),u=(0,s.up)("MakeSelect"),h=(0,s.up)("ModelSelect"),m=(0,s.up)("DescSelect"),v=(0,s.up)("DisplayVehicle");return(0,s.wg)(),(0,i.createElementBlock)("main",null,[n,(0,i.createElementVNode)("div",r,[(0,s.Wm)(d,{modelValue:o.year,"onUpdate:modelValue":t[0]||(t[0]=e=>o.year=e)},null,8,["modelValue"]),(0,s.Wm)(u,{modelValue:o.make,"onUpdate:modelValue":t[1]||(t[1]=e=>o.make=e),year:o.year},null,8,["modelValue","year"]),(0,s.Wm)(h,{modelValue:o.model,"onUpdate:modelValue":t[2]||(t[2]=e=>o.model=e),year:o.year,make:o.make},null,8,["modelValue","year","make"]),(0,s.Wm)(m,{modelValue:o.vehId,"onUpdate:modelValue":t[3]||(t[3]=e=>o.vehId=e),year:o.year,make:o.make,model:o.model},null,8,["modelValue","year","make","model"])]),(0,s.Wm)(v,{vehicle:o.vehicle},null,8,["vehicle"])])}const c={endpoint:"https://one.nhtsa.gov/webapi/api/SafetyRatings",dataType:"?format=json"},d=c;var u=l(352),h=l.n(u);function m(e,t,l,a,i,n){const r=(0,s.up)("Dropdown");return(0,s.wg)(),(0,s.j4)(r,{modelValue:i.selected,"onUpdate:modelValue":t[0]||(t[0]=e=>i.selected=e),value:l.value,options:i.years,"option-label":"value","option-value":"value",placeholder:"Year",class:"year m-1"},null,8,["modelValue","value","options"])}const v={name:"YearSelect",props:{value:{type:String,default:""}},emits:["input"],data(){return{years:[],selected:""}},watch:{selected:function(){this.$emit("input",this.selected.toString())}},mounted(){h().jsonp(d.endpoint+d.dataType).then((e=>{this.years=e.Results.map((e=>({value:`${e.ModelYear}`})))})).catch((e=>{console.log(e)}))}};v.render=m;const p=v;function g(e,t,l,a,i,n){const r=(0,s.up)("Dropdown");return(0,s.wg)(),(0,s.j4)(r,{modelValue:i.selected,"onUpdate:modelValue":t[0]||(t[0]=e=>i.selected=e),value:l.value,options:i.makes,"option-label":"text","option-value":"value",placeholder:"Make",class:"make m-1"},null,8,["modelValue","value","options"])}const y={name:"MakeSelect",props:{value:{type:String,default:""},year:{type:String,default:""}},emits:["input"],data(){return{makes:[],selected:""}},watch:{year:function(){""!==this.year?(this.selected="",h().jsonp(d.endpoint+"/modelyear/"+this.year+d.dataType).then((e=>{this.makes=e.Results.map((e=>({value:e.Make.replace(/&/g,"_"),text:e.Make})))})).catch((e=>{console.log(e)}))):this.makes=[]},selected:function(){this.$emit("input",this.selected)}}};y.render=g;const k=y;function f(e,t,l,a,i,n){const r=(0,s.up)("Dropdown");return(0,s.wg)(),(0,s.j4)(r,{modelValue:i.selected,"onUpdate:modelValue":t[0]||(t[0]=e=>i.selected=e),value:l.value,options:i.models,"option-label":"text","option-value":"value",placeholder:"Model",class:"model m-1"},null,8,["modelValue","value","options"])}const V={name:"ModelSelect",props:{value:{type:String,default:""},year:{type:String,default:""},make:{type:String,default:""}},emits:["input"],data(){return{models:[],selected:""}},watch:{year:function(){""!==this.year&&""!==this.make?(this.selected="",this.getData()):this.models=[]},make:function(){""!==this.year&&""!==this.make?(this.selected="",this.getData()):this.models=[]},selected:function(){this.$emit("input",this.selected)}},methods:{getData:function(){h().jsonp(d.endpoint+"/modelyear/"+this.year+"/make/"+this.make+d.dataType).then((e=>{this.models=e.Results.map((e=>({value:e.Model.replace(/&/g,"_"),text:e.Model})))})).catch((e=>{console.log(e)}))}}};V.render=f;const S=V;function R(e,t,l,a,i,n){const r=(0,s.up)("Dropdown");return(0,s.wg)(),(0,s.j4)(r,{modelValue:i.selected,"onUpdate:modelValue":t[0]||(t[0]=e=>i.selected=e),value:l.value,options:i.descriptions,"option-label":"text","option-value":"value",placeholder:"Vehicle Description",class:"desc m-1"},null,8,["modelValue","value","options"])}const w={name:"DescSelect",props:{value:{type:String,default:""},year:{type:String,default:""},make:{type:String,default:""},model:{type:String,default:""}},emits:["input"],data(){return{descriptions:[],selected:""}},watch:{year:function(){""!==this.year&&""!==this.make&&""!==this.model?this.getData():this.descriptions=[]},make:function(){""!==this.year&&""!==this.make&&""!==this.model?this.getData():this.descriptions=[]},model:function(){""!==this.year&&""!==this.make&&""!==this.model?this.getData():this.descriptions=[]},selected:function(){this.$emit("input",this.selected.toString())}},methods:{getData:function(){this.selected="",h().jsonp(d.endpoint+"/modelyear/"+this.year+"/make/"+this.make+"/model/"+this.model+d.dataType).then((e=>{this.descriptions=e.Results.map((e=>({value:e.VehicleId,text:e.VehicleDescription})))})).catch((e=>{console.log(e)}))}}};w.render=R;const P=w;var b=l(577);const C={key:0,id:"vehicle"},E={class:"grid justify-content-center mt-3"},D={class:"col-12 mb-3"},N={class:"text-center font-weight-bold mb-3"},j=["v-if","src"],x={key:0,class:"col-10 md:col-4"},O=(0,s.Uk)("Overall: "),I=(0,s.Uk)("Rollover: "),W={key:1,class:"col-10 md:col-4"},U={class:"col-10 md:col-4"},M={key:2,id:"crash",class:"col-12"},T={class:"grid justify-content-center mt-md-2"},_={key:0,class:"col-10 md:col-4"},B=["src"],F={class:"ratings"},q=(0,s.Uk)("Front Crash: "),z=(0,s.Uk)("Driver Side: "),Y=(0,s.Uk)("Passenger Side: "),$={key:1,class:"col-10 md:col-4"},Z=["src"],A={class:"ratings"},H=(0,s.Uk)("Side Crash: "),K=(0,s.Uk)("Driver Side: "),G=(0,s.Uk)("Passenger Side: "),J={key:2,class:"col-10 md:col-4"},L=["src"],Q={class:"ratings"},X=(0,s.Uk)(" Side Pole Crash: ");function ee(e,t,l,a,n,r){const o=(0,s.up)("Stars"),c=(0,s.up)("Card");return l.vehicle?((0,s.wg)(),(0,i.createElementBlock)("div",C,[(0,i.createElementVNode)("div",E,[(0,i.createElementVNode)("div",D,[(0,i.createElementVNode)("h2",N,(0,b.zw)(l.vehicle.description),1),(0,i.createElementVNode)("img",{id:"vehpic","v-if":l.vehicle.picture,src:l.vehicle.picture,alt:" ",class:"mx-auto block main-img"},null,8,j)]),r.main?((0,s.wg)(),(0,i.createElementBlock)("div",x,[(0,s.Wm)(c,{class:"sm-card"},{content:(0,s.w5)((()=>[(0,i.createElementVNode)("div",null,[O,(0,s.Wm)(o,{stars:l.vehicle.overallRating},null,8,["stars"])]),(0,i.createElementVNode)("div",null,[I,(0,s.Wm)(o,{stars:l.vehicle.rolloverRating},null,8,["stars"])]),(0,i.createElementVNode)("div",null,"Rollover Possibility: "+(0,b.zw)(r.rolloverPercent),1)])),_:1})])):(0,s.kq)("",!0),l.vehicle.nhtsaVars.length?((0,s.wg)(),(0,i.createElementBlock)("div",W,[(0,s.Wm)(c,null,{content:(0,s.w5)((()=>[((0,s.wg)(!0),(0,i.createElementBlock)(s.HY,null,(0,s.Ko)(l.vehicle.nhtsaVars,((e,t)=>((0,s.wg)(),(0,i.createElementBlock)("div",{key:t},(0,b.zw)(e),1)))),128))])),_:1})])):(0,s.kq)("",!0),(0,i.createElementVNode)("div",U,[(0,s.Wm)(c,{class:"sm-card"},{content:(0,s.w5)((()=>[(0,i.createElementVNode)("div",null,"Complaints: "+(0,b.zw)(l.vehicle.complaints),1),(0,i.createElementVNode)("div",null,"Recalls: "+(0,b.zw)(l.vehicle.recalls),1),(0,i.createElementVNode)("div",null,"Investigations: "+(0,b.zw)(l.vehicle.investigations),1)])),_:1})]),l.vehicle.crashRatings?((0,s.wg)(),(0,i.createElementBlock)("div",M,[(0,i.createElementVNode)("div",T,[r.front?((0,s.wg)(),(0,i.createElementBlock)("div",_,[(0,s.Wm)(c,null,{content:(0,s.w5)((()=>[(0,i.createElementVNode)("img",{src:l.vehicle.frontCrashPic,alt:" ",class:"block mx-auto mb-2"},null,8,B),(0,i.createElementVNode)("div",F,[(0,i.createElementVNode)("div",null,[q,(0,s.Wm)(o,{stars:l.vehicle.frontCrashRating},null,8,["stars"])]),(0,i.createElementVNode)("div",null,[z,(0,s.Wm)(o,{stars:l.vehicle.driverSideRating},null,8,["stars"])]),(0,i.createElementVNode)("div",null,[Y,(0,s.Wm)(o,{stars:l.vehicle.passengerSideRating},null,8,["stars"])])])])),_:1})])):(0,s.kq)("",!0),r.side?((0,s.wg)(),(0,i.createElementBlock)("div",$,[(0,s.Wm)(c,null,{content:(0,s.w5)((()=>[(0,i.createElementVNode)("img",{src:l.vehicle.sideCrashPicture,alt:" ",class:"block mx-auto mb-2"},null,8,Z),(0,i.createElementVNode)("div",A,[(0,i.createElementVNode)("div",null,[H,(0,s.Wm)(o,{stars:l.vehicle.sideCrashRating},null,8,["stars"])]),(0,i.createElementVNode)("div",null,[K,(0,s.Wm)(o,{stars:l.vehicle.sideDriverSideRating},null,8,["stars"])]),(0,i.createElementVNode)("div",null,[G,(0,s.Wm)(o,{stars:l.vehicle.sidePassengerSideRating},null,8,["stars"])])])])),_:1})])):(0,s.kq)("",!0),r.pole?((0,s.wg)(),(0,i.createElementBlock)("div",J,[(0,s.Wm)(c,null,{content:(0,s.w5)((()=>[(0,i.createElementVNode)("img",{src:l.vehicle.sidePolePicture,alt:" ",class:"block mx-auto mb-2"},null,8,L),(0,i.createElementVNode)("div",Q,[X,(0,s.Wm)(o,{stars:l.vehicle.sidePoleCrashRating},null,8,["stars"])])])),_:1})])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)}function te(e,t,l,a,i,n){const r=(0,s.up)("Rating");return(0,s.wg)(),(0,s.j4)(r,{"model-value":l.stars,readonly:!0,cancel:!1},null,8,["model-value"])}const le={name:"Stars",props:{stars:{type:Number,default:0}}};le.render=te;const ae=le,ie={name:"DisplayVehicle",components:{Stars:ae},props:{vehicle:{type:Object,default:()=>({})}},computed:{main(){return this.vehicle.overallRating||this.vehicle.rolloverRating},front(){return this.vehicle.frontCrashPic||this.vehicle.frontCrashRating||this.vehicle.driverSideRating||this.vehicle.passengerSideRating},side(){return this.vehicle.sideCrashPic||this.vehicle.sideCrashRating||this.vehicle.sideDriverSideRating||this.vehicle.sidePassengerSideRating},pole(){return this.vehicle.sidePolePicture||this.vehicle.sidePoleCrashRating},rolloverPercent(){const e=100*this.vehicle.rolloverPossibility;return`${e.toFixed(2)}%`}}};ie.render=ee;const se=ie,ne={name:"App",components:{YearSelect:p,MakeSelect:k,ModelSelect:S,DescSelect:P,DisplayVehicle:se},data(){return{year:"",make:"",model:"",vehId:"",vehicle:null}},watch:{year:function(){this.make="",this.model="",this.vehId=""},make:function(){this.model="",this.vehId=""},model:function(){this.vehId=""},vehId:function(){this.getData()}},methods:{getData:function(){""!==this.vehId?h().jsonp(d.endpoint+"/vehicleid/"+this.vehId+d.dataType).then((e=>{const t=e.Results[0];this.vehicle={description:t.VehicleDescription,picture:t.hasOwnProperty("VehiclePicture")?t.VehiclePicture:"",overallRating:parseInt(t.OverallRating,10),rolloverRating:parseInt(t.RolloverRating,10),rolloverPossibility:t.RolloverPossibility,nhtsaVars:Object.keys(t).filter((e=>0===e.indexOf("NHTSA"))).map((e=>e.match(/[A-Z][a-z]+/g).join(" ")+": "+t[e])),complaints:t.ComplaintsCount,recalls:t.RecallsCount,investigations:t.InvestigationCount,crashRatings:"Not Rated"!=t.FrontCrashDriversideRating},this.vehicle.crashRatings&&(this.vehicle={frontCrashPic:t.hasOwnProperty("FrontCrashPicture")?t.FrontCrashPicture:"",frontCrashRating:parseInt(t.OverallFrontCrashRating,10),driverSideRating:parseInt(t.FrontCrashDriversideRating,10),passengerSideRating:parseInt(t.FrontCrashPassengersideRating,10),sideCrashPicture:t.hasOwnProperty("SideCrashPicture")?t.SideCrashPicture:"",sideCrashRating:parseInt(t.OverallSideCrashRating,10),sideDriverSideRating:parseInt(t.SideCrashDriversideRating,10),sidePassengerSideRating:parseInt(t.SideCrashPassengersideRating,10),sidePolePicture:t.hasOwnProperty("SidePolePicture")?t.SidePolePicture:"",sidePoleCrashRating:parseInt(t.SidePoleCrashRating,10),...this.vehicle})})).catch((e=>{console.log(e)})):this.vehicle=null}}};ne.render=o;const re=ne;var oe=l(475),ce=l(911),de=l(382),ue=l(967);const he=(0,a.ri)(re);he.use(oe.Z),he.component("Dropdown",ce.Z),he.component("Card",de.Z),he.component("Rating",ue.Z),he.mount("#app")}},t={};function l(a){var i=t[a];if(void 0!==i)return i.exports;var s=t[a]={exports:{}};return e[a](s,s.exports,l),s.exports}l.m=e,(()=>{var e=[];l.O=(t,a,i,s)=>{if(!a){var n=1/0;for(d=0;d<e.length;d++){for(var[a,i,s]=e[d],r=!0,o=0;o<a.length;o++)(!1&s||n>=s)&&Object.keys(l.O).every((e=>l.O[e](a[o])))?a.splice(o--,1):(r=!1,s<n&&(n=s));if(r){e.splice(d--,1);var c=i();void 0!==c&&(t=c)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[a,i,s]}})(),(()=>{l.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return l.d(t,{a:t}),t}})(),(()=>{l.d=(e,t)=>{for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}})(),(()=>{l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={143:0};l.O.j=t=>0===e[t];var t=(t,a)=>{var i,s,[n,r,o]=a,c=0;for(i in r)l.o(r,i)&&(l.m[i]=r[i]);if(o)var d=o(l);for(t&&t(a);c<n.length;c++)s=n[c],l.o(e,s)&&e[s]&&e[s][0](),e[n[c]]=0;return l.O(d)},a=globalThis["webpackChunkvue_nhtsa"]=globalThis["webpackChunkvue_nhtsa"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=l.O(void 0,[998],(()=>l(589)));a=l.O(a)})();
//# sourceMappingURL=app.611a66fb.js.map